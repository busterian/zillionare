股价的涨跌预测一直是一个令人众里寻他千百度的热点话题。财经大V，老师和各类骗子每天乐此不疲，为韭菜供给"养分"。那么，股价真的可以预测吗？

开写《大富翁量化交易教程》，也必须回答好这个问题。如果股价能否预测是个伪命题，这个开题就没有必要；但是如果股价可以预测，为什么连证券公司的某首席科学家又一直在出错？为什么一些长期绩优的基金经理坚持说自己不做择时操作？

我们认为，股价运动固然有其复杂性，但就象万物运动一样有其规律，也遵循这个世界的普遍自然规律和经济学原理。在某种程度上，它也是可以预测的：

# 惯性定律

最早人类认识到机械运动的惯性特性，大概是从伽俐略时代开始。后来牛顿通过三大定律，完美地解释了低速状态下刚体运行的规律，从而成了为行星描绘轨迹的人。

![艾萨克.牛顿](http://images.jieyu.ai/images/2020-10/gettyimages-90733811.jpg){: style="width:200px" align=left }

三大定律中的第一定律，指出任何物体都要保持匀速直线运动或静止状态，直到外力迫使它改变运动状态。

在证券交易领域，惯性定律也同样适用。交易大师利弗莫尔这样说过：趋势一旦形成，就不会轻易改变，股价总是沿阻力最小的方向前进。这句许多交易者都耳熟能详的话，包含了两个自然规律：一是**惯性定律**，即趋势一旦形成，就不会轻易改变。二是梯度下降法则。

量化交易就是要去发现当前的趋势是什么，以及梯度的方向是什么。

# 钟摆定律（周期运动律）

自然世界中有很多运动都是周期往复的，包括地球的自转本身就是一种周期。为了让人们直观地观测到地球的自转，著名法国物理学家莱昂.傅科设计了如下的一个钟摆，至今还在法国先贤祠里展示：

![傅科摆](http://images.jieyu.ai/images/2020-10/1000.jpg){: style="height:200px" align=right}

这也是钟摆与周期的一种直观演示。实际上几乎所有的运动的轨迹，都可以通过不同频率和相位的正弦波叠加出来，而正弦波就是一个围绕中心点、周期往复的运动。

同样的，在经济领域，经济的周期律更是为大家熟悉，这方面有许多皇皇巨著。

钟摆定律在证券交易中的体现之一是，在允许投机的市场，价格并不必然等同于价值，但必定以价值为中心点进行上下波动。价格离价值中心越远，回归价值中心的力量就越强，就象一个钟摆一样运动。

从长期来看，我们可以把PE（市盈率）当作股票价值的中枢；从短期来看，平均交易成本（即各种均线）也是一个很好的价值中枢。

# 混沌效应

![蝴蝶效应](http://images.jieyu.ai/images/202103/2fdda3cc7cd98d106fb8c64c2c3fb80e7bec905b.png){: style="height:200px" align=left}

混沌效应又称为蝴蝶效应。蝴蝶效应一词来自一个比喻，“一只南美洲亚马逊河流域热带雨林中的蝴蝶，偶尔扇动几下翅膀，可以在两周以后引起美国得克萨斯州的一场龙卷风”。它的含义是指，在一个动力系统中，初始条件下微小的变化能带动整个系统的长期的巨大的连锁反应。

证券价格沿时间线的变化构成时间序列，时间序列分布遵循分形分布（【资本市场的混沌和秩序：一种关于周期、价格和市场波动的新观点 】，Peters等，1996年）。在处于平衡态的时间序列上，小级别的分形形态改变，将可能引发大级别的趋势改变，也即混沌效应。

在量化交易策略中，要特别注意小级别的分形形态的改变对大级别趋势的引领作用。比如，日线级别的下跌，可能是由30分钟级别的滞涨和拐头引起的；老股民所熟知的长上影线出现后，可能导致激烈的洗盘，其实就是在更小的级别上，出现了向下的趋势。及时捕捉到小级别上的变化并退出市场，就可以避免更大的损失。

混沌效应也许是量化交易中我们惟一可以做“预测”的地方。小级别周期上的趋势一旦形成，系统会越来越远离平衡态，进而带动大级别周期上趋势的形成。直到周期定律将趋势扭转。而这种扭转，毫无疑问仍然是率先从小级别周期上发生的。

# 测不准原理

![海森堡](http://images.jieyu.ai/images/202103/20210320222942.png){: style="width:200px" align=right}

在量子力学里，测不准原理是指粒子的位置与动量不可同时被确定，位置的不确定性越小，则动量的不确定性越大，反之亦然。之所以会出现测不准的现象，是因为当我们进行观测时，必然要通过与被观测者的交互和交换才能获得信息，而在这个交换的过程中，也就改变了被观测对象。很多低等生物没有眼睛，不能靠光来观测周围的世界。他们依靠气味等等来观察世界。气味的感知实质上是一种不可逆的化学反应。

在股市中，交易者也就是观测者。他们投入或者取出资金，价格是被观测对象，赚或者赔是他们得到的观测结果。然而，每一次观测，都在影响着市场。比如，对一支流动性不足的证券品种，即使只花很少的钱来买入，也足以拉高股价（改变了被观测对象），从而失去了继续买入的前提条件。

# 羊群效应

在市场中，改变惯性运动的外力从何而来？趋势究竟是如何形成的？

在投资市场中，大众的资金总是被少数有领导力的资金带动。这些有领导力的资金有更好的消息渠道（合法或者不合法)。他们得到消息后，进行预判，并通过操作来影响市场大众的判断，从而最终影响股价的波动。这就象头羊带动羊群一样。因此，改变惯性运动的外力就是这些资金。比如在2021年初，A股的下跌，正是由于海外第一大资金抛售茅台和新能源车带动的。

到此为止，左右股价运行的基本原理就介绍完毕。

如果左右股价的基本原理都已发现，为什么到目前为止，仍然不能象欧几里德建立他的几何王国，牛顿预言行星的运动一样，预测股价的波动呢？原因也正在这些原理本身。

首先，测不准原理告诉我们，一个好的策略一定是不为大众所知的。所以，即使有一个好的数学方法，一旦它得以公开，就基本失去了作用。一些经典的技术指标现在之所以用得越来越少，这是原因之一。

第二，当新的消息（外力）出现时，股价会出现突变，从而构成数学上的不连续性。一个不连续的系统是不可微的，也难以使用经典的数学分析方法来分析。一个例外是近来比较流行的策略是动量策略，它本质上是对惯性定律的使用，也只在短时间内有效，需要根据行情的演进不断地修正预测。

第三，在大数据和人工智能出现之前，预测股价还存在算力上的不可行。由于机器学习可以从数据中学习特征，因此可以及时跟上市场的变化。而传统的分析方式需要依靠人工观察市场变化，提取市场特征。一旦某种市场特征被观察到进入应用，很快又会因为测不准原理而失效，所以量化方法就难以大规模使用。牛顿曾经在投资南海公司失败后喟叹，我能计算出行星的轨迹，却无法计算出人心的疯狂。牛顿是微积分大师，他在投资上的失败，也说明经典的数学分析方法在股市上难以有所作用。但如果当年他就拥有大数据和人工智能加持，或许这位人类最伟大的科学家，造币厂的厂长，还会成为投资界的一个传奇吧？

而如今，我们拥有了强大的算力和历史行情数据，正是我们进入AI量化交易的好时机。现在，就请跟随我们一起去探索吧！
